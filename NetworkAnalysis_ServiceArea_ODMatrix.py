# -*- coding: utf-8 -*-
"""
Generated by ArcGIS ModelBuilder on : 2024-02-13 10:23:45
"""
import arcpy
from sys import argv

#For inline variable substitution, parameters passed as a String are evaluated using locals(), globals() and isinstance(). To override, substitute values directly.
def NetworkAnalysis(Route_Network_Dataset_Input="C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\Network_Dataset\\Route_ND", Cutoffs=[2.5], Travel_Mode="Walking", Add_Washroom_for_Service_Area="Washroom_Centroids", Add_Tent_Centroids_for_Service_Arrea_Analytics="Tent_Centroids", Add_Washroom_Centroids_for_Service_Area_Analytics="Washroom_Centroids", Number_of_Destinations_to_Find_for_OD_Matrix=1, Add_Tents_for_Origin_OD_Matrix_Calc_="Tent_Centroids", Add_Washroom_Destinations_for_OD_Matrix_Calc_="Washroom_Centroids"):  # Network Analysis

    # To allow overwriting outputs change overwriteOutput option to True.
    arcpy.env.overwriteOutput = False

    arcpy.ImportToolbox(r"c:\program files\arcgis\pro\Resources\ArcToolbox\toolboxes\Analysis Tools.tbx")
    NetworkAnalysis_Package_gdb = "C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb"
    NetworkAnalysis_Package_gdb_2_ = "C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb"
    NetworkAnalysis_Package_gdb_3_ = "C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb"
    NetworkAnalysis_Package_gdb_4_ = "C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb"

    # Process: Make Service Area Analysis Layer (Make Service Area Analysis Layer) (na)
    Service_Area = arcpy.na.MakeServiceAreaAnalysisLayer(network_data_source=Route_Network_Dataset_Input.__str__().format(**locals(),**globals())if isinstance(Route_Network_Dataset_Input, str) else Route_Network_Dataset_Input, travel_mode=Travel_Mode.__str__().format(**locals(),**globals())if isinstance(Travel_Mode, str) else Travel_Mode, cutoffs=Cutoffs.__str__().format(**locals(),**globals())if isinstance(Cutoffs, str) else Cutoffs, polygon_detail="HIGH")[0]

    # Process: Add Locations (Add Locations) (na)
    Service_Area_3_ = arcpy.na.AddLocations(in_network_analysis_layer=Service_Area, sub_layer="Facilities", in_table=Add_Washroom_for_Service_Area.__str__().format(**locals(),**globals())if isinstance(Add_Washroom_for_Service_Area, str) else Add_Washroom_for_Service_Area)[0]

    # Process: Solve (Solve) (na)
    Network_Analyst_Layer, Solve_Succeeded = arcpy.na.Solve(in_network_analysis_layer=Service_Area_3_)

    # Process: Select_Data (Select Data) 
    # Select Data Utility is not implemented 

    # Process: Feature Class To Feature Class (Feature Class To Feature Class) (conversion)
    SA_Polygons_2_5Min = arcpy.conversion.FeatureClassToFeatureClass(in_features=Polygons, out_path=NetworkAnalysis_Package_gdb, out_name="SA_Polygons_2_5Min", field_mapping="FacilityID \"FacilityID\" true true true 4 Long 0 0,First,#,Service Area\\Polygons,FacilityID,-1,-1;Name \"Name\" true true true 1024 Text 0 0,First,#,Service Area\\Polygons,Name,0,1023;FromBreak \"FromBreak\" true true true 8 Double 0 0,First,#,Service Area\\Polygons,FromBreak,-1,-1;ToBreak \"ToBreak\" true true true 8 Double 0 0,First,#,Service Area\\Polygons,ToBreak,-1,-1")[0]

    # Process: Calculate Field (Calculate Field) (management)
    SA_Polygons_2_5Min_2_ = arcpy.management.CalculateField(in_table=SA_Polygons_2_5Min, field="WashID", expression="!Name!.split(' ')[0]")[0]

    # Process: Spatial Join (Spatial Join) (analysis)
    Tent_Centroids_SpatialJoin = "C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\Tent_Centroids_SpatialJoin"
    arcpy.analysis.SpatialJoin(target_features=Add_Tent_Centroids_for_Service_Arrea_Analytics.__str__().format(**locals(),**globals())if isinstance(Add_Tent_Centroids_for_Service_Arrea_Analytics, str) else Add_Tent_Centroids_for_Service_Arrea_Analytics, join_features=SA_Polygons_2_5Min_2_, out_feature_class=Tent_Centroids_SpatialJoin, join_operation="JOIN_ONE_TO_MANY", field_mapping="Join_Count \"Join_Count\" true true false 4 Long 0 0,First,#,Tent_Centroids,Join_Count,-1,-1;TARGET_FID \"TARGET_FID\" true true false 4 Long 0 0,First,#,Tent_Centroids,TARGET_FID,-1,-1;MEAN_Confidence \"MEAN_Confidence\" true true false 8 Double 0 0,First,#,Tent_Centroids,MEAN_Confidence,-1,-1;ORIG_OID \"ORIG_OID\" true true false 4 Long 0 0,First,#,Tent_Centroids,ORIG_OID,-1,-1;STATUS \"STATUS\" true true false 4 Long 0 0,First,#,Tent_Centroids,STATUS,-1,-1;use_ \"Tent Use\" true true false 255 Text 0 0,First,#,Tent_Centroids,use_,0,254;District \"District\" true true false 254 Text 0 0,First,#,Tent_Centroids,District,0,253;Upazila \"Upazila\" true true false 254 Text 0 0,First,#,Tent_Centroids,Upazila,0,253;Union_ \"Union\" true true false 254 Text 0 0,First,#,Tent_Centroids,Union_,0,253;Settlement \"Settlement\" true true false 254 Text 0 0,First,#,Tent_Centroids,Settlement,0,253;Camp_Name \"Camp Name\" true true false 254 Text 0 0,First,#,Tent_Centroids,Camp_Name,0,253;ISCG_Camp \"ISCG Camp\" true true false 254 Text 0 0,First,#,Tent_Centroids,ISCG_Camp,0,253;Unique_ID \"Unique ID\" true true false 254 Text 0 0,First,#,Tent_Centroids,Unique_ID,0,253;Facility_C \"Facility C\" true true false 254 Text 0 0,First,#,Tent_Centroids,Facility_C,0,253;Facility \"Facility\" true true false 254 Text 0 0,First,#,Tent_Centroids,Facility,0,253;GPS_point_ \"GPS_point_\" true true false 8 Double 0 0,First,#,Tent_Centroids,GPS_point_,-1,-1;GPS_poin_1 \"GPS_poin_1\" true true false 8 Double 0 0,First,#,Tent_Centroids,GPS_poin_1,-1,-1;Flood_Risk \"Flood Risk\" true true false 254 Text 0 0,First,#,Tent_Centroids,Flood_Risk,0,253;Landslide \"Landslide\" true true false 254 Text 0 0,First,#,Tent_Centroids,Landslide,0,253;Date_Recor \"Date Recor\" true true false 254 Text 0 0,First,#,Tent_Centroids,Date_Recor,0,253;Sector \"Sector\" true true false 254 Text 0 0,First,#,Tent_Centroids,Sector,0,253;Sanitation \"Sanitation\" true true false 254 Text 0 0,First,#,Tent_Centroids,Sanitation,0,253;Sanitati_1 \"Sanitati_1\" true true false 254 Text 0 0,First,#,Tent_Centroids,Sanitati_1,0,253;Sanitati_2 \"Sanitati_2\" true true false 254 Text 0 0,First,#,Tent_Centroids,Sanitati_2,0,253;Sanitati_3 \"Sanitati_3\" true true false 254 Text 0 0,First,#,Tent_Centroids,Sanitati_3,0,253;Sanitati_4 \"Sanitati_4\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati_4,-1,-1;Sanitati_5 \"Sanitati_5\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati_5,-1,-1;Sanitati_6 \"Sanitati_6\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati_6,-1,-1;Sanitati_7 \"Sanitati_7\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati_7,-1,-1;Sanitati_8 \"Sanitati_8\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati_8,-1,-1;Sanitati_9 \"Sanitati_9\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati_9,-1,-1;Sanitati10 \"Sanitati10\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati10,-1,-1;Sanitati11 \"Sanitati11\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati11,-1,-1;Sanitati12 \"Sanitati12\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati12,-1,-1;Sanitati13 \"Sanitati13\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati13,-1,-1;Sanitati14 \"Sanitati14\" true true false 4 Long 0 0,First,#,Tent_Centroids,Sanitati14,-1,-1;Water_stru \"Water-stru\" true true false 254 Text 0 0,First,#,Tent_Centroids,Water_stru,0,253;Water_wate \"Water-wate\" true true false 254 Text 0 0,First,#,Tent_Centroids,Water_wate,0,253;Water_st_1 \"Water-st_1\" true true false 4 Long 0 0,First,#,Tent_Centroids,Water_st_1,-1,-1;Water_num_ \"Water-num_\" true true false 4 Long 0 0,First,#,Tent_Centroids,Water_num_,-1,-1;Water_wa_1 \"Water-wa_1\" true true false 254 Text 0 0,First,#,Tent_Centroids,Water_wa_1,0,253;Other_stru \"Other-stru\" true true false 254 Text 0 0,First,#,Tent_Centroids,Other_stru,0,253;Other_st_1 \"Other-st_1\" true true false 254 Text 0 0,First,#,Tent_Centroids,Other_st_1,0,253;Other_site \"Other-site\" true true false 254 Text 0 0,First,#,Tent_Centroids,Other_site,0,253;Other_si_1 \"Other-si_1\" true true false 254 Text 0 0,First,#,Tent_Centroids,Other_si_1,0,253;Other_num_ \"Other-num_\" true true false 4 Long 0 0,First,#,Tent_Centroids,Other_num_,-1,-1;informatio \"informatio\" true true false 254 Text 0 0,First,#,Tent_Centroids,informatio,0,253;informat_1 \"informat_1\" true true false 254 Text 0 0,First,#,Tent_Centroids,informat_1,0,253;informat_2 \"informat_2\" true true false 254 Text 0 0,First,#,Tent_Centroids,informat_2,0,253;informat_3 \"informat_3\" true true false 254 Text 0 0,First,#,Tent_Centroids,informat_3,0,253;informat_4 \"informat_4\" true true false 254 Text 0 0,First,#,Tent_Centroids,informat_4,0,253;informat_5 \"informat_5\" true true false 254 Text 0 0,First,#,Tent_Centroids,informat_5,0,253;informat_6 \"informat_6\" true true false 8 Double 0 0,First,#,Tent_Centroids,informat_6,-1,-1;informat_7 \"informat_7\" true true false 8 Double 0 0,First,#,Tent_Centroids,informat_7,-1,-1;uuid \"uuid\" true true false 254 Text 0 0,First,#,Tent_Centroids,uuid,0,253;Population \"Population\" true true false 4 Long 0 0,First,#,Tent_Centroids,Population,-1,-1;households \"Households\" true true false 2 Short 0 0,First,#,Tent_Centroids,households,-1,-1;washroom_capacity \"Washroom Capacity\" true true false 4 Long 0 0,First,#,Tent_Centroids,washroom_capacity,-1,-1;ORIG_FID \"ORIG_FID\" true true false 4 Long 0 0,First,#,Tent_Centroids,ORIG_FID,-1,-1;TentID \"TentID\" true true false 512 Text 0 0,First,#,Tent_Centroids,TentID,0,511;FacilityID \"FacilityID\" true true true 4 Long 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min,FacilityID,-1,-1;Name \"Name\" true true true 1024 Text 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min,Name,0,1023;FromBreak \"FromBreak\" true true true 8 Double 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min,FromBreak,-1,-1;ToBreak \"ToBreak\" true true true 8 Double 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min,ToBreak,-1,-1;WashID \"WashID\" true true false 0 Text 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min,WashID,0,254")

    # Process: Summary Statistics (Summary Statistics) (analysis)
    SA_Polygons_2_5Min_Tent_SumStat = "C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min_Tent_SumStat"
    arcpy.analysis.Statistics(in_table=Tent_Centroids_SpatialJoin, out_table=SA_Polygons_2_5Min_Tent_SumStat, statistics_fields=[["Join_Count", "SUM"]], case_field=["TentID"])

    # Process: Join Field (Join Field) (management)
    Updated_Input_Table = arcpy.management.JoinField(in_data=Add_Tent_Centroids_for_Service_Arrea_Analytics.__str__().format(**locals(),**globals())if isinstance(Add_Tent_Centroids_for_Service_Arrea_Analytics, str) else Add_Tent_Centroids_for_Service_Arrea_Analytics, in_field="TentID", join_table=SA_Polygons_2_5Min_Tent_SumStat, join_field="TentID", fields=["FREQUENCY"])[0]

    # Process: Summarize Within (Summarize Within) (analysis)
    SA_Polygons_2_5Min_SummarizeWithin = "C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min_SummarizeWithin"
    Output_Grouped_Table = ""
    arcpy.analysis.SummarizeWithin(in_polygons=SA_Polygons_2_5Min_2_, in_sum_features=Add_Tent_Centroids_for_Service_Arrea_Analytics.__str__().format(**locals(),**globals())if isinstance(Add_Tent_Centroids_for_Service_Arrea_Analytics, str) else Add_Tent_Centroids_for_Service_Arrea_Analytics, out_feature_class=SA_Polygons_2_5Min_SummarizeWithin, sum_fields=[["Population", "Sum"]], out_group_table=Output_Grouped_Table)

    # Process: Summarize Within (2) (Summarize Within) (analysis)
    Output_Feature_Class = "C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min_SummarizeWithin1"
    Output_Grouped_Table_2_ = ""
    arcpy.analysis.SummarizeWithin(in_polygons=SA_Polygons_2_5Min_2_, in_sum_features=Add_Washroom_Centroids_for_Service_Area_Analytics.__str__().format(**locals(),**globals())if isinstance(Add_Washroom_Centroids_for_Service_Area_Analytics, str) else Add_Washroom_Centroids_for_Service_Area_Analytics, out_feature_class=Output_Feature_Class, out_group_table=Output_Grouped_Table_2_)

    # Process: Make OD Cost Matrix Analysis Layer (Make OD Cost Matrix Analysis Layer) (na)
    OD_Cost_Matrix = arcpy.na.MakeODCostMatrixAnalysisLayer(network_data_source=Route_Network_Dataset_Input.__str__().format(**locals(),**globals())if isinstance(Route_Network_Dataset_Input, str) else Route_Network_Dataset_Input, number_of_destinations_to_find=Number_of_Destinations_to_Find_for_OD_Matrix.__str__().format(**locals(),**globals())if isinstance(Number_of_Destinations_to_Find_for_OD_Matrix, str) else Number_of_Destinations_to_Find_for_OD_Matrix, accumulate_attributes=["Length", "Walking"])[0]

    # Process: Add Locations (2) (Add Locations) (na)
    OD_Cost_Matrix_3_ = arcpy.na.AddLocations(in_network_analysis_layer=OD_Cost_Matrix, sub_layer="Origins", in_table=Add_Tents_for_Origin_OD_Matrix_Calc_.__str__().format(**locals(),**globals())if isinstance(Add_Tents_for_Origin_OD_Matrix_Calc_, str) else Add_Tents_for_Origin_OD_Matrix_Calc_)[0]

    # Process: Add Locations (3) (Add Locations) (na)
    OD_Cost_Matrix_4_ = arcpy.na.AddLocations(in_network_analysis_layer=OD_Cost_Matrix_3_, sub_layer="Destinations", in_table=Add_Washroom_Destinations_for_OD_Matrix_Calc_.__str__().format(**locals(),**globals())if isinstance(Add_Washroom_Destinations_for_OD_Matrix_Calc_, str) else Add_Washroom_Destinations_for_OD_Matrix_Calc_)[0]

    # Process: Solve (2) (Solve) (na)
    Network_Analyst_Layer_2_, Solve_Succeeded_2_ = arcpy.na.Solve(in_network_analysis_layer=OD_Cost_Matrix_4_)

    # Process: Select_Data_2_ (Select Data) 
    # Select Data Utility is not implemented 

    # Process: Add Fields (multiple) (Add Fields (multiple)) (management)
    OD_Matrix_Lines_3_ = arcpy.management.AddFields(in_table="")[0]

    # Process: Calculate Field (3) (Calculate Field) (management)
    OD_Matrix_Lines_2_ = arcpy.management.CalculateField(in_table=OD_Matrix_Lines_3_, field="Tent_ID", expression="!Name!.split(' ')[0]")[0]

    # Process: Calculate Field (4) (Calculate Field) (management)
    OD_Matrix_Lines_4_ = arcpy.management.CalculateField(in_table=OD_Matrix_Lines_2_, field="Wash_ID", expression="!Name!.split(' ')[2]")[0]

    # Process: Alter Field (3) (Alter Field) (management)
    OD_Matrix_Lines_5_ = arcpy.management.AlterField(in_table=OD_Matrix_Lines_4_, field="Total_Walking", new_field_name="ClosestFacil_Min", new_field_alias="ClosestFacil_Min")[0]

    # Process: Alter Field (4) (Alter Field) (management)
    OD_Matrix_Lines_6_ = arcpy.management.AlterField(in_table=OD_Matrix_Lines_5_, field="Total_Length", new_field_name="ClosestFacil_Len", new_field_alias="ClosestFacil_Len")[0]

    # Process: Alter Field (2) (Alter Field) (management)
    SA_Polygons_2_5Min_SummarizeWithin_2_ = arcpy.management.AlterField(in_table=SA_Polygons_2_5Min_SummarizeWithin, field="Point_Count", new_field_name="TentCount", new_field_alias="TentCount")[0]

    # Process: Alter Field (Alter Field) (management)
    SA_Polygons_2_5Min_SummarizeWithin1 = arcpy.management.AlterField(in_table=Output_Feature_Class, field="Point_Count", new_field_name="WashID_Count", new_field_alias="WashID_Count")[0]

    # Process: Join Field (2) (Join Field) (management)
    SA_Polygons_2_5Min_SummarizeWithin_4_ = arcpy.management.JoinField(in_data=SA_Polygons_2_5Min_SummarizeWithin_2_, in_field="WashID", join_table=SA_Polygons_2_5Min_SummarizeWithin1, join_field="WashID", fields=["WashID_Count", "WashID"])[0]

    # Process: Feature Class To Feature Class (2) (Feature Class To Feature Class) (conversion)
    SA_Summarize_WashTent_Poly = arcpy.conversion.FeatureClassToFeatureClass(in_features=SA_Polygons_2_5Min_SummarizeWithin_4_, out_path=NetworkAnalysis_Package_gdb_2_, out_name="SA_Summarize_WashTent_Poly", field_mapping="Shape_length \"Shape_length\" true true false 0 Double 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min_SummarizeWithin,Shape_length,-1,-1;Shape_area \"Shape_area\" true true false 0 Double 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min_SummarizeWithin,Shape_area,-1,-1;Sum_Population \"Sum Population\" true true false 0 Double 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min_SummarizeWithin,Sum_Population,-1,-1;TentCount \"TentCount\" true true false 0 Double 1 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min_SummarizeWithin,TentCount,-1,-1;WashID_Count \"WashID_Count\" true true false 0 Double 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min_SummarizeWithin,WashID_Count,-1,-1;WashID \"WashID\" true true false 512 Text 0 0,First,#,C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb\\SA_Polygons_2_5Min_SummarizeWithin,WashID,0,511")[0]

    # Process: Join Field (3) (Join Field) (management)
    Updated_Input_Table_2_ = arcpy.management.JoinField(in_data=Add_Washroom_Centroids_for_Service_Area_Analytics.__str__().format(**locals(),**globals())if isinstance(Add_Washroom_Centroids_for_Service_Area_Analytics, str) else Add_Washroom_Centroids_for_Service_Area_Analytics, in_field="WashID", join_table=SA_Summarize_WashTent_Poly, join_field="WashID", fields=["Sum_Population", "TentCount", "WashID_Count"])[0]

    # Process: Calculate Field (2) (Calculate Field) (management)
    Updated_Input_Table_3_ = arcpy.management.CalculateField(in_table=Updated_Input_Table_2_, field="WashID_Count", expression="!WashID_Count! - 1", field_type="DOUBLE")[0]

    # Process: Feature Class To Feature Class (3) (Feature Class To Feature Class) (conversion)
    SA_Washroom_Centroid_Final = arcpy.conversion.FeatureClassToFeatureClass(in_features=Updated_Input_Table_3_, out_path=NetworkAnalysis_Package_gdb_3_, out_name="SA_Washroom_Centroid_Final", field_mapping="Join_Count \"Join_Count\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Join_Count,-1,-1;TARGET_FID \"TARGET_FID\" true true false 4 Long 0 0,First,#,Washroom_Centroids,TARGET_FID,-1,-1;MEAN_Confidence \"MEAN_Confidence\" true true false 8 Double 0 0,First,#,Washroom_Centroids,MEAN_Confidence,-1,-1;ORIG_OID \"ORIG_OID\" true true false 4 Long 0 0,First,#,Washroom_Centroids,ORIG_OID,-1,-1;STATUS \"STATUS\" true true false 4 Long 0 0,First,#,Washroom_Centroids,STATUS,-1,-1;use_ \"Tent Use\" true true false 255 Text 0 0,First,#,Washroom_Centroids,use_,0,254;District \"District\" true true false 254 Text 0 0,First,#,Washroom_Centroids,District,0,253;Upazila \"Upazila\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Upazila,0,253;Union_ \"Union\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Union_,0,253;Settlement \"Settlement\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Settlement,0,253;Camp_Name \"Camp Name\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Camp_Name,0,253;ISCG_Camp \"ISCG Camp\" true true false 254 Text 0 0,First,#,Washroom_Centroids,ISCG_Camp,0,253;Unique_ID \"Unique ID\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Unique_ID,0,253;Facility_C \"Facility C\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Facility_C,0,253;Facility \"Facility\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Facility,0,253;GPS_point_ \"GPS_point_\" true true false 8 Double 0 0,First,#,Washroom_Centroids,GPS_point_,-1,-1;GPS_poin_1 \"GPS_poin_1\" true true false 8 Double 0 0,First,#,Washroom_Centroids,GPS_poin_1,-1,-1;Flood_Risk \"Flood Risk\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Flood_Risk,0,253;Landslide \"Landslide\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Landslide,0,253;Date_Recor \"Date Recor\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Date_Recor,0,253;Sector \"Sector\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Sector,0,253;Sanitation \"Sanitation\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Sanitation,0,253;Sanitati_1 \"Sanitati_1\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Sanitati_1,0,253;Sanitati_2 \"Sanitati_2\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Sanitati_2,0,253;Sanitati_3 \"Sanitati_3\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Sanitati_3,0,253;Sanitati_4 \"Sanitati_4\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati_4,-1,-1;Sanitati_5 \"Sanitati_5\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati_5,-1,-1;Sanitati_6 \"Sanitati_6\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati_6,-1,-1;Sanitati_7 \"Sanitati_7\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati_7,-1,-1;Sanitati_8 \"Sanitati_8\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati_8,-1,-1;Sanitati_9 \"Sanitati_9\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati_9,-1,-1;Sanitati10 \"Sanitati10\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati10,-1,-1;Sanitati11 \"Sanitati11\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati11,-1,-1;Sanitati12 \"Sanitati12\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati12,-1,-1;Sanitati13 \"Sanitati13\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati13,-1,-1;Sanitati14 \"Sanitati14\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Sanitati14,-1,-1;Water_stru \"Water-stru\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Water_stru,0,253;Water_wate \"Water-wate\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Water_wate,0,253;Water_st_1 \"Water-st_1\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Water_st_1,-1,-1;Water_num_ \"Water-num_\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Water_num_,-1,-1;Water_wa_1 \"Water-wa_1\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Water_wa_1,0,253;Other_stru \"Other-stru\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Other_stru,0,253;Other_st_1 \"Other-st_1\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Other_st_1,0,253;Other_site \"Other-site\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Other_site,0,253;Other_si_1 \"Other-si_1\" true true false 254 Text 0 0,First,#,Washroom_Centroids,Other_si_1,0,253;Other_num_ \"Other-num_\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Other_num_,-1,-1;informatio \"informatio\" true true false 254 Text 0 0,First,#,Washroom_Centroids,informatio,0,253;informat_1 \"informat_1\" true true false 254 Text 0 0,First,#,Washroom_Centroids,informat_1,0,253;informat_2 \"informat_2\" true true false 254 Text 0 0,First,#,Washroom_Centroids,informat_2,0,253;informat_3 \"informat_3\" true true false 254 Text 0 0,First,#,Washroom_Centroids,informat_3,0,253;informat_4 \"informat_4\" true true false 254 Text 0 0,First,#,Washroom_Centroids,informat_4,0,253;informat_5 \"informat_5\" true true false 254 Text 0 0,First,#,Washroom_Centroids,informat_5,0,253;informat_6 \"informat_6\" true true false 8 Double 0 0,First,#,Washroom_Centroids,informat_6,-1,-1;informat_7 \"informat_7\" true true false 8 Double 0 0,First,#,Washroom_Centroids,informat_7,-1,-1;uuid \"uuid\" true true false 254 Text 0 0,First,#,Washroom_Centroids,uuid,0,253;Population \"Population\" true true false 4 Long 0 0,First,#,Washroom_Centroids,Population,-1,-1;households \"Households\" true true false 2 Short 0 0,First,#,Washroom_Centroids,households,-1,-1;washroom_capacity \"Washroom Capacity\" true true false 4 Long 0 0,First,#,Washroom_Centroids,washroom_capacity,-1,-1;ORIG_FID \"ORIG_FID\" true true false 4 Long 0 0,First,#,Washroom_Centroids,ORIG_FID,-1,-1;WashID \"WashID\" true true false 512 Text 0 0,First,#,Washroom_Centroids,WashID,0,511;Sum_Population \"Sum Population\" true true false 0 Long 0 0,First,#,Washroom_Centroids,Sum_Population,-1,-1;TentCount \"TentCount\" true true false 0 Long 0 0,First,#,Washroom_Centroids,TentCount,-1,-1;WashID_Count \"WashID_Count\" true true false 0 Long 0 0,First,#,Washroom_Centroids,WashID_Count,-1,-1")[0]

    # Process: Feature Class To Feature Class (4) (Feature Class To Feature Class) (conversion)
    OD_Matrix_Lines = arcpy.conversion.FeatureClassToFeatureClass(in_features="", out_path=NetworkAnalysis_Package_gdb_4_, out_name="OD_Matrix_Lines", field_mapping="Name \"Name\" true true true 1024 Text 0 0,First,#,OD Cost Matrix\\Lines,Name,0,1023;OriginID \"OriginID\" true true true 4 Long 0 0,First,#,OD Cost Matrix\\Lines,OriginID,-1,-1;DestinationID \"DestinationID\" true true true 4 Long 0 0,First,#,OD Cost Matrix\\Lines,DestinationID,-1,-1;DestinationRank \"DestinationRank\" true true true 4 Long 0 0,First,#,OD Cost Matrix\\Lines,DestinationRank,-1,-1;Total_Walking \"Total_Walking\" true true true 8 Double 0 0,First,#,OD Cost Matrix\\Lines,Total_Walking,-1,-1;Total_Length \"Total_Length\" true true true 8 Double 0 0,First,#,OD Cost Matrix\\Lines,Total_Length,-1,-1")[0]

if __name__ == '__main__':
    # Global Environment settings
    with arcpy.EnvManager(scratchWorkspace="C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb", workspace="C:\\Users\\Computer Name\\Esri_Training\\SpatialAnalysis_Challenge\\Workflow\\NetworkAnalysis_Pro29_Build\\NetworkAnalysis_Package\\NetworkAnalysis_Package.gdb"):
        NetworkAnalysis(*argv[1:])
